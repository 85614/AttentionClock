<!--index.wxml-->
<view style="position: relative; height: 100%;display: flex;flex-direction: column;">
  <view style="flex-grow: 0; font-size: 0.7em; display:flex; flex-direction: row; justify-content: space-between;" bindtap="test">
    <view>专注时长分布 {{today||"1970-01-01"}}</view>
    <view>
      <mp-icon icon="back" size="{{7}}" extClass="my-icon" bindtap="lastDate"></mp-icon>
      <mp-icon icon="arrow" size="{{9}}" extClass="my-icon" bindtap="lastDate"></mp-icon>
    </view>
  </view>
  <view >
    <view wx:if="{{isButtonDayTap}}" style="display:flex; flex-direction: row; width: 50%; margin:10px 25%;">
      <button  class="button-dwm button-day-tap" bindtap="buttonDayTap" data-idx="{{0}}">日</button>
      <button  class="button-dwm button-week" bindtap="buttonWeekTap" data-idx="{{1}}">周</button>
      <button  class="button-dwm button-month" bindtap="buttonMonthTap" data-idx="{{2}}">月</button>
    </view>
    <view wx:elif="{{isButtonWeekTap}}" style="display:flex; flex-direction: row; width: 50%; margin:10px 25%;">
      <button  class="button-dwm button-day" bindtap="buttonDayTap" data-idx="{{0}}">日</button>
      <button  class="button-dwm button-week-tap" bindtap="buttonWeekTap" data-idx="{{1}}">周</button>
      <button  class="button-dwm button-month" bindtap="buttonMonthTap" data-idx="{{2}}">月</button>
    </view>
    <view wx:else style="display:flex; flex-direction: row; width: 50%; margin:10px 25%;">
      <button class="button-dwm button-day" bindtap="buttonDayTap" data-idx="{{0}}">日</button>
      <button class="button-dwm button-week" bindtap="buttonWeekTap" data-idx="{{1}}">周</button>
      <button class="button-dwm button-month-tap" bindtap="buttonMonthTap" data-idx="{{2}}">月</button>
    </view>
  </view>
  <view style="flex-grow: 1; position: relative">
    <view class="full-screen-container">
      <ec-canvas id="mychart-dom-pie" canvas-id="mychart-pie" ec="{{ ec }}"></ec-canvas>
    </view>
  </view>
</view>